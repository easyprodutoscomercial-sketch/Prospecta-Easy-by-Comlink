@tailwind base;
@tailwind components;
@tailwind utilities;

/* Emoji rain animation (pular/voltar) */
@keyframes emoji-fall {
  0% { transform: translateY(-5vh) rotate(0deg) scale(0); opacity: 0; }
  10% { opacity: 1; transform: translateY(5vh) rotate(30deg) scale(1); }
  90% { opacity: 1; }
  100% { transform: translateY(110vh) rotate(360deg) scale(0.5); opacity: 0; }
}
.animate-emoji-fall {
  animation: emoji-fall 2.2s ease-in forwards;
}

@keyframes slide-in-right {
  from { transform: translateX(100%); opacity: 0; }
  to { transform: translateX(0); opacity: 1; }
}
@keyframes fade-in {
  from { opacity: 0; transform: scale(0.95); }
  to { opacity: 1; transform: scale(1); }
}
.animate-slide-in-right {
  animation: slide-in-right 0.25s ease-out;
}
.animate-fade-in {
  animation: fade-in 0.15s ease-out;
}

/* Avatar breathe — fade in/out pulsante (contatos) */
@keyframes avatar-breathe {
  0%, 100% { opacity: 0.45; transform: scale(0.92); }
  50% { opacity: 1; transform: scale(1.05); }
}
.avatar-breathe {
  animation: avatar-breathe 2.4s ease-in-out infinite;
  border-radius: 50%;
}
.avatar-breathe > img, .avatar-breathe > div { border-radius: 50%; }

/* Avatar bounce — bate no teto e chão do card (pipeline) */
@keyframes avatar-bounce {
  0%, 100% { transform: translateY(6px); }
  50% { transform: translateY(-6px); }
}
.avatar-bounce {
  animation: avatar-bounce 1.2s ease-in-out infinite;
  border-radius: 50%;
}
.avatar-bounce > img, .avatar-bounce > div { border-radius: 50%; }

/* Avatar: cai uniforme → pousa → pinga 2x → fala → sai correndo suave */
@keyframes avatar-fall-land-run {
  /* Queda uniforme */
  0%   { transform: translateY(-80px) translateX(0); opacity: 0; }
  2%   { opacity: 1; transform: translateY(-80px) translateX(0); }
  50%  { transform: translateY(calc(100vh - 120px)) translateX(0); }
  /* Impacto */
  53%  { transform: translateY(calc(100vh - 108px)) translateX(0); }
  /* Pinga 1 */
  58%  { transform: translateY(calc(100vh - 160px)) translateX(0); }
  62%  { transform: translateY(calc(100vh - 108px)) translateX(0); }
  /* Pinga 2 */
  66%  { transform: translateY(calc(100vh - 130px)) translateX(0); }
  69%  { transform: translateY(calc(100vh - 108px)) translateX(0); }
  /* Pausa — frase */
  80%  { transform: translateY(calc(100vh - 108px)) translateX(0); opacity: 1; }
  /* Corrida uniforme para a direita */
  100% { transform: translateY(calc(100vh - 108px)) translateX(700px); opacity: 0; }
}

/* Frase aparece ao pousar */
@keyframes speech-land-appear {
  0%, 56%  { opacity: 0; transform: translateY(-50%) scale(0.5); }
  62%      { opacity: 1; transform: translateY(-50%) scale(1); }
  80%      { opacity: 1; transform: translateY(-50%) scale(1); }
  92%, 100% { opacity: 0; transform: translateY(-50%) scale(0.8); }
}

/* Perninhas — aparecem ao pousar */
@keyframes legs-appear {
  0%, 52%  { opacity: 0; }
  54%      { opacity: 1; }
  96%      { opacity: 1; }
  100%     { opacity: 0; }
}

/* Ciclo de corrida das pernas — animacao separada, rapida e suave */
@keyframes leg-run-left {
  0%   { transform: rotate(-28deg); }
  50%  { transform: rotate(28deg); }
  100% { transform: rotate(-28deg); }
}
@keyframes leg-run-right {
  0%   { transform: rotate(28deg); }
  50%  { transform: rotate(-28deg); }
  100% { transform: rotate(28deg); }
}

.speech-bubble-land {
  position: absolute;
  right: calc(100% + 14px);
  top: 50%;
  transform: translateY(-50%);
  background: linear-gradient(135deg, #10b981, #8b5cf6);
  color: white;
  font-size: 11px;
  font-weight: 700;
  padding: 6px 14px;
  border-radius: 12px;
  white-space: nowrap;
  pointer-events: none;
  z-index: 10;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3), 0 2px 6px rgba(139, 92, 246, 0.2);
  opacity: 0;
}
.speech-bubble-land::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 100%;
  transform: translateY(-50%);
  border: 6px solid transparent;
  border-left-color: #8b5cf6;
}

/* Avatar pick-me — pulinho animado para o avatar que está falando */
@keyframes avatar-pick-me-talk {
  0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
  10% { transform: translateY(-12px) rotate(-10deg) scale(1.15); }
  20% { transform: translateY(2px) rotate(6deg) scale(1.05); }
  30% { transform: translateY(-8px) rotate(-6deg) scale(1.12); }
  40% { transform: translateY(0) rotate(3deg) scale(1); }
  50% { transform: translateY(-5px) rotate(-3deg) scale(1.08); }
  60% { transform: translateY(0) rotate(0deg) scale(1); }
}
@keyframes avatar-idle {
  0%, 100% { transform: scale(1); }
  50% { transform: scale(1.03); }
}
.avatar-pick-me-talking {
  animation: avatar-pick-me-talk 1.8s ease-in-out infinite;
  border-radius: 50%;
  cursor: pointer;
  filter: brightness(1.15);
}
.avatar-pick-me-talking > img, .avatar-pick-me-talking > div { border-radius: 50%; }

.avatar-pick-me-idle {
  animation: avatar-idle 3s ease-in-out infinite;
  border-radius: 50%;
  cursor: pointer;
  opacity: 0.65;
  transition: opacity 0.3s, filter 0.3s;
}
.avatar-pick-me-idle:hover { opacity: 1; filter: brightness(1.1); }
.avatar-pick-me-idle > img, .avatar-pick-me-idle > div { border-radius: 50%; }

/* Speech bubble / Balão de fala */
@keyframes speech-pop {
  0% { opacity: 0; transform: translateY(4px) scale(0.7); }
  15% { opacity: 1; transform: translateY(-2px) scale(1.05); }
  25% { transform: translateY(0) scale(1); }
  85% { opacity: 1; transform: translateY(0) scale(1); }
  100% { opacity: 0; transform: translateY(-4px) scale(0.9); }
}
.speech-bubble {
  position: absolute;
  bottom: calc(100% + 8px);
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(135deg, #10b981, #8b5cf6);
  color: white;
  font-size: 11px;
  font-weight: 700;
  padding: 5px 10px;
  border-radius: 10px;
  white-space: nowrap;
  pointer-events: none;
  animation: speech-pop 2.5s ease-in-out forwards;
  z-index: 10;
  max-width: 180px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3), 0 2px 6px rgba(139, 92, 246, 0.2);
}
.speech-bubble::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-top-color: #8b5cf6;
}

/* Avatar triste — cabeça baixa, sem brilho (dashboard perdedores) */
@keyframes avatar-sad {
  0%, 100% { transform: translateY(0) rotate(0deg); }
  30% { transform: translateY(3px) rotate(-3deg); }
  60% { transform: translateY(1px) rotate(2deg); }
}
.avatar-sad {
  animation: avatar-sad 3s ease-in-out infinite;
  border-radius: 50%;
  filter: grayscale(0.6) brightness(0.7);
  opacity: 0.6;
}
.avatar-sad > img, .avatar-sad > div { border-radius: 50%; }

/* Avatar winner — brilhante, comemorando (dashboard 1o lugar) */
@keyframes avatar-winner {
  0%, 100% { transform: translateY(0) rotate(0deg) scale(1); }
  15% { transform: translateY(-8px) rotate(-6deg) scale(1.1); }
  30% { transform: translateY(0) rotate(4deg) scale(1.02); }
  45% { transform: translateY(-5px) rotate(-3deg) scale(1.07); }
  60% { transform: translateY(0) rotate(0deg) scale(1); }
}
.avatar-winner {
  animation: avatar-winner 2s ease-in-out infinite;
  border-radius: 50%;
  filter: brightness(1.15);
}
.avatar-winner > img, .avatar-winner > div { border-radius: 50%; }

/* Sad speech bubble */
.speech-bubble-sad {
  position: absolute;
  bottom: calc(100% + 6px);
  left: 50%;
  transform: translateX(-50%);
  background: linear-gradient(135deg, #6b7280, #4b5563);
  color: #d1d5db;
  font-size: 10px;
  font-weight: 600;
  padding: 4px 8px;
  border-radius: 8px;
  white-space: nowrap;
  pointer-events: none;
  animation: speech-pop 3s ease-in-out forwards;
  z-index: 10;
  max-width: 160px;
  overflow: hidden;
  text-overflow: ellipsis;
  box-shadow: 0 2px 8px rgba(0,0,0,0.3);
}
.speech-bubble-sad::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border: 5px solid transparent;
  border-top-color: #4b5563;
}

/* Avatar orbit ring animation */
@keyframes orbit-ring {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}
@keyframes orbit-glow {
  0%, 100% { box-shadow: 0 0 8px rgba(16,185,129,0.3), 0 0 16px rgba(139,92,246,0.15); }
  50% { box-shadow: 0 0 14px rgba(16,185,129,0.5), 0 0 28px rgba(139,92,246,0.3); }
}

/* Oval avatar shape */
.avatar-oval { border-radius: 50%; }
.avatar-oval img, .avatar-oval > div { border-radius: 50%; }

.avatar-orbit {
  position: relative;
  animation: orbit-glow 3s ease-in-out infinite;
  border-radius: 50%;
}
.avatar-orbit > img, .avatar-orbit > div { border-radius: 50%; }
.avatar-orbit::before {
  content: '';
  position: absolute;
  inset: -5px;
  border-radius: 50%;
  border: 3px solid transparent;
  border-top-color: #10b981;
  border-right-color: #8b5cf6;
  animation: orbit-ring 1.8s linear infinite;
  pointer-events: none;
}
.avatar-orbit::after {
  content: '';
  position: absolute;
  inset: -5px;
  border-radius: 50%;
  border: 3px solid transparent;
  border-bottom-color: #10b981;
  border-left-color: #8b5cf6;
  animation: orbit-ring 1.8s linear infinite reverse;
  opacity: 0.5;
  pointer-events: none;
}

/* Shimmer loading effect */
@keyframes shimmer {
  0% { background-position: -200% 0; }
  100% { background-position: 200% 0; }
}
.skeleton-shimmer {
  background: linear-gradient(90deg, #1e0f35 25%, #2a1245 50%, #1e0f35 75%);
  background-size: 200% 100%;
  animation: shimmer 1.8s ease-in-out infinite;
}

/* Card hover lift */
@keyframes card-glow {
  0%, 100% { box-shadow: 0 0 0 rgba(16,185,129,0); }
  50% { box-shadow: 0 0 20px rgba(16,185,129,0.08); }
}
.card-hover {
  transition: transform 0.2s ease, box-shadow 0.2s ease, border-color 0.2s ease;
}
.card-hover:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.3), 0 0 15px rgba(139,92,246,0.1);
}

/* KPI card glow effect */
.kpi-card {
  transition: transform 0.2s ease, box-shadow 0.2s ease;
  position: relative;
  overflow: hidden;
}
.kpi-card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: linear-gradient(135deg, transparent 60%, rgba(16,185,129,0.03));
  pointer-events: none;
}
.kpi-card:hover {
  transform: translateY(-3px) scale(1.02);
  box-shadow: 0 12px 30px rgba(0,0,0,0.3), 0 0 20px rgba(139,92,246,0.12);
}

/* Staggered fade-in for list items */
@keyframes stagger-in {
  0% { opacity: 0; transform: translateY(10px); }
  100% { opacity: 1; transform: translateY(0); }
}
.stagger-item {
  animation: stagger-in 0.3s ease-out forwards;
  opacity: 0;
}

/* Button press micro-interaction */
.btn-press {
  transition: transform 0.1s ease, box-shadow 0.15s ease;
}
.btn-press:hover {
  transform: translateY(-1px);
}
.btn-press:active {
  transform: translateY(1px) scale(0.98);
}

/* Glow badge pulse */
@keyframes glow-pulse {
  0%, 100% { box-shadow: 0 0 4px rgba(239,68,68,0.4); }
  50% { box-shadow: 0 0 12px rgba(239,68,68,0.7), 0 0 20px rgba(239,68,68,0.3); }
}
.badge-glow {
  animation: glow-pulse 2s ease-in-out infinite;
}

/* Smooth number counter */
.number-animate {
  transition: all 0.6s cubic-bezier(0.16, 1, 0.3, 1);
}

/* Progress bar shimmer */
@keyframes progress-shimmer {
  0% { background-position: -100% 0; }
  100% { background-position: 200% 0; }
}
.progress-bar-shimmer {
  background-size: 200% 100%;
  animation: progress-shimmer 2s linear infinite;
}

/* Smaller orbit variant for compact views */
.avatar-orbit-sm {
  position: relative;
  animation: orbit-glow 3s ease-in-out infinite;
  border-radius: 50%;
}
.avatar-orbit-sm > img, .avatar-orbit-sm > div { border-radius: 50%; }
.avatar-orbit-sm::before {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 50%;
  border: 2.5px solid transparent;
  border-top-color: #10b981;
  border-right-color: #8b5cf6;
  animation: orbit-ring 1.8s linear infinite;
  pointer-events: none;
}
.avatar-orbit-sm::after {
  content: '';
  position: absolute;
  inset: -4px;
  border-radius: 50%;
  border: 2.5px solid transparent;
  border-bottom-color: #10b981;
  border-left-color: #8b5cf6;
  animation: orbit-ring 1.8s linear infinite reverse;
  opacity: 0.5;
  pointer-events: none;
}

/* Announcement ticker marquee */
@keyframes ticker-scroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}
.ticker-track {
  display: flex;
  width: max-content;
  animation: ticker-scroll 30s linear infinite;
}
.ticker-content {
  white-space: nowrap;
  padding-right: 2rem;
}

/* === Avatar Runner — corre pela tela, para no meio, fala, continua === */
@keyframes runner-across {
  0%   { left: -60px; }
  42%  { left: calc(50% - 18px); }
  /* Pausa ~1s no meio (42-52% de 10s = 1s) */
  52%  { left: calc(50% - 18px); }
  100% { left: calc(100% + 60px); }
}

/* Frase aparece so na pausa do meio — posicionada atras (esquerda) do avatar */
@keyframes runner-speech-pop {
  0%, 38%   { opacity: 0; transform: translateY(-50%) scale(0.5); }
  44%       { opacity: 1; transform: translateY(-50%) scale(1); }
  50%       { opacity: 1; transform: translateY(-50%) scale(1); }
  56%, 100% { opacity: 0; transform: translateY(-50%) scale(0.8); }
}

/* Pernas correm, param no meio, correm de novo */
@keyframes runner-leg-l {
  0%   { transform: rotate(-28deg); }
  2%   { transform: rotate(28deg); }
  4%   { transform: rotate(-28deg); }
  6%   { transform: rotate(28deg); }
  8%   { transform: rotate(-28deg); }
  10%  { transform: rotate(28deg); }
  12%  { transform: rotate(-28deg); }
  14%  { transform: rotate(28deg); }
  16%  { transform: rotate(-28deg); }
  18%  { transform: rotate(28deg); }
  20%  { transform: rotate(-28deg); }
  22%  { transform: rotate(28deg); }
  24%  { transform: rotate(-28deg); }
  26%  { transform: rotate(28deg); }
  28%  { transform: rotate(-28deg); }
  30%  { transform: rotate(28deg); }
  32%  { transform: rotate(-28deg); }
  34%  { transform: rotate(28deg); }
  36%  { transform: rotate(-28deg); }
  38%  { transform: rotate(28deg); }
  40%  { transform: rotate(-28deg); }
  /* Pausa no meio — pernas paradas */
  42%, 52% { transform: rotate(0deg); }
  /* Volta a correr */
  54%  { transform: rotate(-28deg); }
  56%  { transform: rotate(28deg); }
  58%  { transform: rotate(-28deg); }
  60%  { transform: rotate(28deg); }
  62%  { transform: rotate(-28deg); }
  64%  { transform: rotate(28deg); }
  66%  { transform: rotate(-28deg); }
  68%  { transform: rotate(28deg); }
  70%  { transform: rotate(-28deg); }
  72%  { transform: rotate(28deg); }
  74%  { transform: rotate(-28deg); }
  76%  { transform: rotate(28deg); }
  78%  { transform: rotate(-28deg); }
  80%  { transform: rotate(28deg); }
  82%  { transform: rotate(-28deg); }
  84%  { transform: rotate(28deg); }
  86%  { transform: rotate(-28deg); }
  88%  { transform: rotate(28deg); }
  90%  { transform: rotate(-28deg); }
  92%  { transform: rotate(28deg); }
  94%  { transform: rotate(-28deg); }
  96%  { transform: rotate(28deg); }
  98%  { transform: rotate(-28deg); }
  100% { transform: rotate(0deg); }
}
@keyframes runner-leg-r {
  0%   { transform: rotate(28deg); }
  2%   { transform: rotate(-28deg); }
  4%   { transform: rotate(28deg); }
  6%   { transform: rotate(-28deg); }
  8%   { transform: rotate(28deg); }
  10%  { transform: rotate(-28deg); }
  12%  { transform: rotate(28deg); }
  14%  { transform: rotate(-28deg); }
  16%  { transform: rotate(28deg); }
  18%  { transform: rotate(-28deg); }
  20%  { transform: rotate(28deg); }
  22%  { transform: rotate(-28deg); }
  24%  { transform: rotate(28deg); }
  26%  { transform: rotate(-28deg); }
  28%  { transform: rotate(28deg); }
  30%  { transform: rotate(-28deg); }
  32%  { transform: rotate(28deg); }
  34%  { transform: rotate(-28deg); }
  36%  { transform: rotate(28deg); }
  38%  { transform: rotate(-28deg); }
  40%  { transform: rotate(28deg); }
  /* Pausa no meio */
  42%, 52% { transform: rotate(0deg); }
  /* Volta a correr */
  54%  { transform: rotate(28deg); }
  56%  { transform: rotate(-28deg); }
  58%  { transform: rotate(28deg); }
  60%  { transform: rotate(-28deg); }
  62%  { transform: rotate(28deg); }
  64%  { transform: rotate(-28deg); }
  66%  { transform: rotate(28deg); }
  68%  { transform: rotate(-28deg); }
  70%  { transform: rotate(28deg); }
  72%  { transform: rotate(-28deg); }
  74%  { transform: rotate(28deg); }
  76%  { transform: rotate(-28deg); }
  78%  { transform: rotate(28deg); }
  80%  { transform: rotate(-28deg); }
  82%  { transform: rotate(28deg); }
  84%  { transform: rotate(-28deg); }
  86%  { transform: rotate(28deg); }
  88%  { transform: rotate(-28deg); }
  90%  { transform: rotate(28deg); }
  92%  { transform: rotate(-28deg); }
  94%  { transform: rotate(28deg); }
  96%  { transform: rotate(-28deg); }
  98%  { transform: rotate(28deg); }
  100% { transform: rotate(0deg); }
}

.runner-speech {
  position: absolute;
  right: calc(100% + 10px);
  top: 50%;
  transform: translateY(-50%);
  background: linear-gradient(135deg, #10b981, #8b5cf6);
  color: white;
  font-size: 10px;
  font-weight: 700;
  padding: 4px 10px;
  border-radius: 10px;
  white-space: nowrap;
  pointer-events: none;
  z-index: 10;
  box-shadow: 0 2px 8px rgba(16, 185, 129, 0.3);
  opacity: 0;
}
.runner-speech::after {
  content: '';
  position: absolute;
  top: 50%;
  left: 100%;
  transform: translateY(-50%);
  border: 4px solid transparent;
  border-left-color: #8b5cf6;
}
